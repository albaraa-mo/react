(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{88:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(21),s=n.n(c),o=n(13),i=n(3),l=n(14),u=n.n(l),d=n(20),j=n(17),p=n(5),h=n(6),b=n(8),m=n(7),O=n(2),f=n(15),x=n.n(f),v=n(29),g=n(0),y=function(e){return Object(g.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:[Object(g.jsx)("a",{className:"navbar-brand",href:"/",children:"Navbar"}),Object(g.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(g.jsxs)("ul",{className:"navbar-nav",children:[Object(g.jsx)("li",{className:"nav-item",children:Object(g.jsx)(o.c,{className:"nav-link",to:"/menu",children:"Menu"})}),Object(g.jsx)("li",{className:"nav-item",children:Object(g.jsx)(o.c,{className:"nav-link",to:"/cart",children:"Shopping Cart"})}),Object(g.jsx)("li",{className:"nav-item",children:Object(g.jsx)(o.c,{className:"nav-link",to:"/admin",children:"Admin"})}),Object(g.jsx)("li",{className:"nav-item",children:Object(g.jsx)(o.c,{className:"nav-link",to:"/login",children:"Login"})})]})}),Object(g.jsx)(o.b,{to:"/cart",children:Object(g.jsxs)("span",{className:"badge badge-primary",children:[Object(g.jsx)("i",{style:{color:"white"},className:"fas fa-cart-plus"}),e.productsCount]})})]})},C=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"getClasses",value:function(){return 0===this.props.product.count?"badge badge-warning m-2":"badge badge-primary m-2"}},{key:"componentWillUnmount",value:function(){console.log("Product ==> UNMOUNT")}},{key:"render",value:function(){var e=this.props,t=e.product,n=e.onIncrement,r=e.onDelete;return Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-2",children:Object(g.jsx)("span",{children:Object(g.jsx)(o.b,{to:"/products/".concat(t.id),children:t.name})})}),Object(g.jsxs)("div",{className:"col",children:[Object(g.jsx)("span",{className:this.getClasses(),children:t.count}),Object(g.jsx)("button",{onClick:function(){return n(t)},className:"btn btn-primary btn-sm",children:"+"}),Object(g.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return r(t)},children:Object(g.jsx)("i",{className:"fas fa-trash m-2"})})]})]})}}]),n}(r.Component),N=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(e){var r;return Object(p.a)(this,n),r=t.call(this,e),console.log("Shopping Cart ==> Constructor"),r}return Object(h.a)(n,[{key:"componentDidMount",value:function(){console.log("Shopping Cart ==> ComponentDidMount")}},{key:"componentDidUpdate",value:function(e,t){console.log("Shopping Cart ==> ComponentDidUpdate"),console.log(e)}},{key:"render",value:function(){var e=this;return console.log("Shopping Cart ==> Render"),Object(g.jsxs)(a.a.Fragment,{children:[Object(g.jsx)("h1",{children:"Shopping Cart"}),Object(g.jsx)("button",{onClick:this.props.onReset,className:"btn btn-secondary btn-sm m-2",children:"Reset"}),this.props.products.map((function(t){return Object(g.jsx)(C,{product:t,onDelete:e.props.onDelete,onIncrement:e.props.onIncrement},t.id)}))]})}}]),n}(r.Component),k=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(p.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={},e}return Object(h.a)(n,[{key:"render",value:function(){return Object(g.jsx)("h1",{children:"Home"})}}]),n}(r.Component),w=n(41),S=n.n(w),D=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(p.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).handleSave=function(){e.props.history.replace("/cart")},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=S.a.parse(this.props.location.search);console.log(t);var n=this.props.products.filter((function(t){return t.id===parseInt(e.props.match.params.id)}))[0];return Object(g.jsxs)(a.a.Fragment,{children:[Object(g.jsxs)("h1",{children:["Details No.",this.props.match.params.id]}),Object(g.jsx)("h2",{children:n.name}),Object(g.jsxs)("h2",{children:["Count in Shopping Cart: ",n.count]}),Object(g.jsx)("button",{onClick:this.handleSave,className:"btn btn-primary btn-sm",children:"Save"})]})}}]),n}(r.Component),I=function(e){var t=e.product.isInCart?{cursor:"pointer"}:{color:"#80808080",cursor:"pointer"};return Object(g.jsx)("i",{style:t,onClick:function(){return e.onClick(e.product)},className:"fas fa-cart-plus"})},F=function(e){return Object(g.jsx)(a.a.Fragment,{children:e.products.map((function(t){return Object(g.jsxs)("div",{className:"card col-6",children:[Object(g.jsx)("img",{src:"...",className:"card-img-top",alt:"..."}),Object(g.jsxs)("div",{className:"card-body",children:[Object(g.jsxs)("h5",{className:"card-title",children:[" ",t.name," "]}),Object(g.jsx)("p",{className:"card-text",children:t.price}),Object(g.jsx)(I,{onClick:e.onClick,product:t})]})]})}))})},A=function(){return Object(g.jsx)("h1",{children:"Page Not Found"})},P=n(42),M=n(23),R=n.n(M),U=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(p.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={username:"",password:"",errors:{}},e.schema={username:R.a.string().required(),password:R.a.string().required()},e.handleSubmit=function(t){t.preventDefault(),e.validate()||console.log("submit")},e.validate=function(){var t={},n=Object(i.a)({},e.state);delete n.errors;var r=R.a.validate(n,e.schema,{abortEarly:!1});if(null===r.error)return e.setState({errors:{}}),null;var a,c=Object(P.a)(r.error.details);try{for(c.s();!(a=c.n()).done;){var s=a.value;t[s.path]=s.message}}catch(o){c.e(o)}finally{c.f()}return e.setState({errors:t}),t},e.handleChange=function(t){var n=Object(i.a)({},e.state);n[t.currentTarget.name]=t.currentTarget.value,e.setState(n)},e}return Object(h.a)(n,[{key:"render",value:function(){return Object(g.jsxs)(a.a.Fragment,{children:[Object(g.jsx)("h1",{children:"Login"}),Object(g.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"username",children:"Username"}),Object(g.jsx)("input",{name:"username",value:this.state.username,onChange:this.handleChange,autoFocus:!0,id:"username",type:"text",className:"form-control"}),this.state.errors.username&&Object(g.jsx)("div",{className:"alert alert-danger",children:this.state.errors.username})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"password",children:"Password"}),Object(g.jsx)("input",{name:"password",value:this.state.password,onChange:this.handleChange,id:"password",type:"text",className:"form-control"}),this.state.errors.password&&Object(g.jsx)("div",{className:"alert alert-danger",children:this.state.errors.password})]}),Object(g.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})]})}}]),n}(r.Component),T=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.products,r=t.onDelete;return Object(g.jsxs)(a.a.Fragment,{children:[Object(g.jsx)("h1",{children:"Admin"}),Object(g.jsx)("button",{onClick:function(){return e.props.history.push("/productform/new")},className:"btn btn-primary",children:"Add"}),Object(g.jsxs)("table",{className:"table",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"Name"}),Object(g.jsx)("th",{children:"Price"}),Object(g.jsx)("th",{}),Object(g.jsx)("th",{})]})}),Object(g.jsx)("tbody",{children:n.map((function(t){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:t.name}),Object(g.jsx)("td",{children:t.price}),Object(g.jsx)("td",{children:Object(g.jsx)("i",{onClick:function(){return e.props.history.push("/productform/".concat(t.id))},className:"fas fa-edit"})}),Object(g.jsx)("td",{children:Object(g.jsx)("i",{onClick:function(){return r(t)},className:"fas fa-trash"})})]},t.id)}))})]})]})}}]),n}(r.Component),E=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(p.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={id:"",name:"",price:""},e.handleSubmit=function(){var t=Object(j.a)(u.a.mark((function t(n){var r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),"new"!==e.props.match.params.id){t.next=7;break}return r=Object(i.a)(Object(i.a)({},e.state),{},{count:0,isInCart:!1}),t.next=5,x.a.post("https://iti-react-cource.herokuapp.com/products/",r);case 5:t.next=11;break;case 7:return delete(a=Object(i.a)(Object(i.a)({},e.state),{},{count:0,isInCart:!1})).id,t.next=11,x.a.put("https://iti-react-cource.herokuapp.com/products/"+e.state.id,a);case 11:e.props.history.replace("/admin");case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var n=Object(i.a)({},e.state);n[t.currentTarget.name]=t.currentTarget.value,e.setState(n)},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=Object(j.a)(u.a.mark((function e(){var t,n,r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("new"===(t=this.props.match.params.id)){e.next=11;break}return e.next=4,x.a.get("https://iti-react-cource.herokuapp.com/products/"+t);case 4:n=e.sent,r=n.data,(a=Object(i.a)({},this.state)).name=r.name,a.price=r.price,a.id=r.id,this.setState(a);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(g.jsxs)(a.a.Fragment,{children:[Object(g.jsx)("h1",{children:"new"===this.props.match.params.id?"Add Product":"Edit Product"}),Object(g.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"name",children:"Name"}),Object(g.jsx)("input",{className:"form-control",onChange:this.handleChange,value:this.state.name,id:"name",name:"name",type:"text"})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{htmlFor:"price",children:"Price"}),Object(g.jsx)("input",{className:"form-control",onChange:this.handleChange,value:this.state.price,id:"price",name:"price",type:"text"})]}),Object(g.jsx)("button",{type:"submit",className:"btn btn-primary",children:"new"===this.props.match.params.id?"Add":"Edit"})]})]})}}]),n}(r.Component),q=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(p.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={products:[]},e.handleDelete=function(){var t=Object(j.a)(u.a.mark((function t(n){var r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(d.a)(e.state.products),a=e.state.products.filter((function(e){return e.id!==n.id})),e.setState({products:a}),t.prev=3,t.next=6,x.a.delete("https://iti-react-cource.herokuapp.com/products/"+n.id);case 6:t.next=12;break;case 8:t.prev=8,t.t0=t.catch(3),Object(v.b)("Cant Delete"),e.setState({products:r});case 12:case"end":return t.stop()}}),t,null,[[3,8]])})));return function(e){return t.apply(this,arguments)}}(),e.handleEdit=function(){console.log("edit")},e.handleReset=function(){var t=Object(d.a)(e.state.products);t=t.map((function(e){return e.count=0,e})),e.setState({products:t})},e.IncrementHandler=function(t){var n=Object(d.a)(e.state.products),r=n.indexOf(t);n[r]=Object(i.a)({},n[r]),n[r].count++,e.setState({products:n})},e.handleInCartChange=function(t){var n=Object(d.a)(e.state.products),r=n.indexOf(t);n[r]=Object(i.a)({},n[r]),n[r].isInCart=!n[r].isInCart,e.setState({products:n})},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=Object(j.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("https://iti-react-cource.herokuapp.com/products");case 2:t=e.sent,n=t.data,this.setState({products:n});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return console.log(this.state.products),Object(g.jsxs)(a.a.Fragment,{children:[Object(g.jsx)(v.a,{}),Object(g.jsx)(y,{productsCount:this.state.products.filter((function(e){return e.isInCart})).length}),Object(g.jsx)("main",{className:"container",children:Object(g.jsxs)(O.d,{children:[Object(g.jsx)(O.b,{path:"/products/:id/:name?",render:function(t){return Object(g.jsx)(D,Object(i.a)({products:e.state.products},t))}}),Object(g.jsx)(O.b,{path:"/productform/:id",render:function(t){return Object(g.jsx)(E,Object(i.a)(Object(i.a)({},t),{},{products:e.state.products}))}}),Object(g.jsx)(O.b,{path:"/admin",render:function(t){return Object(g.jsx)(T,Object(i.a)(Object(i.a)({},t),{},{products:e.state.products,onDelete:e.handleDelete}))}}),Object(g.jsx)(O.b,{path:"/login",component:U}),Object(g.jsx)(O.b,{path:"/cart",render:function(t){return Object(g.jsx)(N,Object(i.a)({products:e.state.products.filter((function(e){return e.isInCart})),onIncrement:e.IncrementHandler,onDelete:e.handleInCartChange,onReset:e.handleReset},t))}}),Object(g.jsx)(O.b,{path:"/notfound",component:A}),Object(g.jsx)(O.b,{path:"/menu",render:function(t){return Object(g.jsx)(F,Object(i.a)(Object(i.a)({},t),{},{products:e.state.products,onClick:e.handleInCartChange}))}}),Object(g.jsx)(O.b,{path:"/home",exact:!0,component:k}),Object(g.jsx)(O.a,{from:"/",to:"/home"}),Object(g.jsx)(O.a,{to:"/notfound"})]})})]})}}]),n}(r.Component);n(85),n(86),n(87),n(88);s.a.render(Object(g.jsx)(o.a,{children:Object(g.jsx)(q,{})}),document.querySelector("#root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.cfe75103.chunk.js.map